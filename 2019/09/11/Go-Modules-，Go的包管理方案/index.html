<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=">


  <link rel="mask-icon" href="/images/logo.svg?v=" color="#222">





  <meta name="keywords" content="Go,">










<meta name="description" content="Go  Modules 是 Golang 官方最近几个版本推出的原生的包管理方式，在此之前，社区也不乏多种包管理方案。在讨论 Go Modules  之前，我们先回顾一下 Golang 的包管理历史的发展。然后讨论一下 Go Modules  的使用以及一些特性，篇幅有限，有些地方没有深入展开。">
<meta name="keywords" content="Go">
<meta property="og:type" content="article">
<meta property="og:title" content="Go Modules ，Go的包管理方案 ">
<meta property="og:url" content="http://yoursite.com/2019/09/11/Go-Modules-，Go的包管理方案/index.html">
<meta property="og:site_name" content="胥三百亿">
<meta property="og:description" content="Go  Modules 是 Golang 官方最近几个版本推出的原生的包管理方式，在此之前，社区也不乏多种包管理方案。在讨论 Go Modules  之前，我们先回顾一下 Golang 的包管理历史的发展。然后讨论一下 Go Modules  的使用以及一些特性，篇幅有限，有些地方没有深入展开。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-09-11T09:51:16.863Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Go Modules ，Go的包管理方案 ">
<meta name="twitter:description" content="Go  Modules 是 Golang 官方最近几个版本推出的原生的包管理方式，在此之前，社区也不乏多种包管理方案。在讨论 Go Modules  之前，我们先回顾一下 Golang 的包管理历史的发展。然后讨论一下 Go Modules  的使用以及一些特性，篇幅有限，有些地方没有深入展开。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/09/11/Go-Modules-，Go的包管理方案/">





  <title>Go Modules ，Go的包管理方案  | 胥三百亿</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">胥三百亿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/11/Go-Modules-，Go的包管理方案/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="胥三百亿">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="胥三百亿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Go Modules ，Go的包管理方案 </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-11T17:50:22+08:00">
                2019-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>&nbsp阅读次数
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  4k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  18
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Go  Modules 是 Golang 官方最近几个版本推出的原生的包管理方式，在此之前，社区也不乏多种包管理方案。在讨论 Go Modules  之前，我们先回顾一下 Golang 的包管理历史的发展。然后讨论一下 Go Modules  的使用以及一些特性，篇幅有限，有些地方没有深入展开。</p>
<a id="more"></a>
<h2 id="包管理的历史"><a href="#包管理的历史" class="headerlink" title="包管理的历史"></a>包管理的历史</h2><p>Golang 的包管理一直被大众所诟病的一个点，但是我们可以看到现在确实是在往好的方向进行发展。下面是官方的包管理工具的发展历史：</p>
<ul>
<li>在 1.5 版本之前，所有的依赖包都是存放在 GOPATH 下，没有版本控制。这个类似 Google 使用单一仓库来管理代码的方式。这种方式的最大的弊端就是无法实现包的多版本控制，比如项目 A 和项目 B 依赖于不同版本的 package，如果 package 没有做到完全的向前兼容，往往会导致一些问题。</li>
<li>1.5 版本推出了 vendor 机制。所谓 vendor 机制，就是每个项目的根目录下可以有一个 vendor 目录，里面存放了该项目的依赖的 package。<code>go build</code> 的时候会先去 vendor 目录查找依赖，如果没有找到会再去 GOPATH 目录下查找。</li>
<li>1.9 版本推出了实验性质的包管理工具 dep，这里把 dep 归结为 Golang 官方的包管理方式可能有一些不太准确。关于 dep 的争议颇多，比如为什么官方后来没有直接使用 dep 而是弄了一个新的 modules，具体细节这里不太方便展开。</li>
<li>1.11 版本推出 modules 机制，简称 mod，也就是本文要讨论的重点。modules 的原型其实是 vgo，关于 vgo，可以参考文章末尾的参考链接。</li>
</ul>
<p>除此之外，社区也一直在有几个活跃的包管理工具，使用广泛且具有代表性的主要有下面几个：</p>
<ul>
<li>godep</li>
<li>glide</li>
<li>govendor</li>
</ul>
<p>关于这几种包管理工具的使用这里就不再详述了。</p>
<h2 id="modules-简单使用方式"><a href="#modules-简单使用方式" class="headerlink" title="modules 简单使用方式"></a>modules 简单使用方式</h2><p>下面看一下 modules 的简单使用方式。</p>
<h3 id="1-1-准备工作"><a href="#1-1-准备工作" class="headerlink" title="1.1 准备工作"></a><strong>1.1 准备工作</strong></h3><p>Golang 版本：1.12.3。在 1.12 版本之前，使用 Go modules 之前需要环境变量 GO111MODULE:</p>
<ul>
<li>GO111MODULE=off: 不使用 modules 功能。</li>
<li>GO111MODULE=on: 使用 modules 功能，不会去 GOPATH 下面查找依赖包。</li>
<li>GO111MODULE=auto: Golang 自己检测是不是使用 modules 功能。</li>
</ul>
<p>在 GOPATH 之外创建一个项目 mod-demo，包含一个 main.go 文件，内容如下:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>(</span><br><span class="line">	<span class="string">"github.com/astaxie/beego"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   beego.Run()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-初始化"><a href="#1-2-初始化" class="headerlink" title="1.2 初始化"></a><strong>1.2 初始化</strong></h3><p>初始化很简单，在项目根目录执行命令 <code>go mod init mod-demo</code> ，然后会生成一个 go.mod 文件如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;go mod init mod-demo</span><br><span class="line">go: creating new go.mod: module mod-demo</span><br><span class="line"></span><br><span class="line">F:\GoWorker\mod-demo&gt;ls</span><br><span class="line">go.mod  main.go</span><br><span class="line"></span><br><span class="line">F:\GoWorker\mod-demo&gt;cat go.mod</span><br><span class="line">module mod-demo</span><br><span class="line"></span><br><span class="line">go 1.12</span><br></pre></td></tr></table></figure>
<p>这里比较关键的就是这个 go.mod 文件，这个文件中标识了我们的项目的依赖的 package 的版本。<strong>执行 init 暂时还没有将所有的依赖管理起来。我们需要将程序 run 起来（比如执行 go run/test），或者 build（执行命令 go build）的时候，才会触发依赖的解析。</strong></p>
<p>比如使用 go run 即可触发 modules 工作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;go run main.go</span><br><span class="line">go: finding github.com/astaxie/beego v1.12.0</span><br><span class="line">go: downloading github.com/astaxie/beego v1.12.0</span><br><span class="line">go: extracting github.com/astaxie/beego v1.12.0</span><br><span class="line">go: finding golang.org/x/crypto v0.0.0-20181127143415-eb0de9b17e85</span><br><span class="line">go: finding github.com/elazarl/go-bindata-assetfs v1.0.0</span><br><span class="line">go: finding github.com/casbin/casbin v1.7.0</span><br><span class="line">go: finding github.com/lib/pq v1.0.0</span><br><span class="line">go: finding github.com/beego/goyaml2 v0.0.0-20130207012346-5545475820dd</span><br><span class="line">go: finding github.com/cloudflare/golz4 v0.0.0-20150217214814-ef862a3cdc58</span><br><span class="line">go: finding github.com/mattn/go-sqlite3 v1.10.0</span><br><span class="line">go: finding github.com/couchbase/go-couchbase v0.0.0-20181122212707-3e9b6e1258bb</span><br><span class="line">go: finding github.com/go-redis/redis v6.14.2+incompatible</span><br><span class="line">go: finding github.com/edsrzf/mmap-go v0.0.0-20170320065105-0bce6a688712</span><br><span class="line">go: finding github.com/OwnLocal/goes v1.0.0</span><br><span class="line">go: finding github.com/go-sql-driver/mysql v1.4.1</span><br><span class="line">go: finding github.com/siddontang/rdb v0.0.0-20150307021120-fc89ed2e418d</span><br><span class="line">go: finding github.com/pkg/errors v0.8.0</span><br><span class="line">go: finding golang.org/x/net v0.0.0-20181114220301-adae6a3d119a</span><br><span class="line">go: finding github.com/ssdb/gossdb v0.0.0-20180723034631-88f6b59b84ec</span><br><span class="line">go: finding gopkg.in/yaml.v2 v2.2.1</span><br><span class="line">go: finding github.com/gogo/protobuf v1.1.1</span><br><span class="line">go: finding github.com/siddontang/ledisdb v0.0.0-20181029004158-becf5f38d373</span><br><span class="line">go: finding github.com/cupcake/rdb v0.0.0-20161107195141-43ba34106c76</span><br><span class="line">go: finding github.com/couchbase/goutils v0.0.0-20180530154633-e865a1461c8a</span><br><span class="line">go: finding github.com/gomodule/redigo v2.0.0+incompatible</span><br><span class="line">go: finding github.com/wendal/errors v0.0.0-20130201093226-f66c77a7882b</span><br><span class="line">go: finding github.com/pelletier/go-toml v1.2.0</span><br><span class="line">go: finding github.com/Knetic/govaluate v3.0.0+incompatible</span><br><span class="line">go: finding github.com/bradfitz/gomemcache v0.0.0-20180710155616-bc664df96737</span><br><span class="line">go: finding github.com/beego/x2j v0.0.0-20131220205130-a0352aadc542</span><br><span class="line">go: finding github.com/golang/snappy v0.0.0-20180518054509-2e65f85255db</span><br><span class="line">go: finding github.com/siddontang/go v0.0.0-20180604090527-bdc77568d726</span><br><span class="line">go: finding github.com/syndtr/goleveldb v0.0.0-20181127023241-353a9fca669c</span><br><span class="line">go: finding github.com/couchbase/gomemcached v0.0.0-20181122193126-5125a94a666c</span><br><span class="line">go: downloading golang.org/x/crypto v0.0.0-20181127143415-eb0de9b17e85</span><br><span class="line">go: downloading gopkg.in/yaml.v2 v2.2.1</span><br><span class="line">go: extracting golang.org/x/crypto v0.0.0-20181127143415-eb0de9b17e85</span><br><span class="line">go: extracting gopkg.in/yaml.v2 v2.2.1</span><br><span class="line">go: finding github.com/shiena/ansicolor latest</span><br><span class="line">go: downloading github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644</span><br><span class="line">go: extracting github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644</span><br><span class="line">2019/09/11 15:42:56.430 [I]  http server Running on http://:8080</span><br></pre></td></tr></table></figure>
<p>这个时候我们再查看 go.mod 文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;cat go.mod</span><br><span class="line">module mod-demo</span><br><span class="line"></span><br><span class="line">go 1.12</span><br><span class="line"></span><br><span class="line">require (</span><br><span class="line">        github.com/astaxie/beego v1.12.0 // indirect</span><br><span class="line">        github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644 // indirect</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>同时我们发现项目目录下多了一个 go.sum 文件用来记录每个 package 的版本和哈希值。go.mod 文件正常情况会包含 module 和 require 模块，除此之外还可以包含 replace 和 exclude 模块。</p>
<p>这些 package 并不是直接存储到 $GOPATH/src，而是存储到 $GOPATH/pkg/mod 下面，不同版本并存的方式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;ls %GOPATH%\pkg\mod\github.com\astaxie</span><br><span class="line">beego@v1.12.0</span><br></pre></td></tr></table></figure>
<h3 id="1-3-依赖升级（降级）"><a href="#1-3-依赖升级（降级）" class="headerlink" title="1.3 依赖升级（降级）"></a><strong>1.3 依赖升级（降级）</strong></h3><p>可以使用如下命令来查看当前项目依赖的所有的包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt; go list -m all</span><br><span class="line">mod-demo</span><br><span class="line">github.com/Knetic/govaluate v3.0.0+incompatible</span><br><span class="line">github.com/OwnLocal/goes v1.0.0</span><br><span class="line">github.com/astaxie/beego v1.12.0</span><br><span class="line">github.com/beego/goyaml2 v0.0.0-20130207012346-5545475820dd</span><br><span class="line">github.com/beego/x2j v0.0.0-20131220205130-a0352aadc542</span><br><span class="line">github.com/bradfitz/gomemcache v0.0.0-20180710155616-bc664df96737</span><br><span class="line">github.com/casbin/casbin v1.7.0</span><br><span class="line">github.com/cloudflare/golz4 v0.0.0-20150217214814-ef862a3cdc58</span><br><span class="line">github.com/couchbase/go-couchbase v0.0.0-20181122212707-3e9b6e1258bb</span><br><span class="line">github.com/couchbase/gomemcached v0.0.0-20181122193126-5125a94a666c</span><br><span class="line">github.com/couchbase/goutils v0.0.0-20180530154633-e865a1461c8a</span><br><span class="line">github.com/cupcake/rdb v0.0.0-20161107195141-43ba34106c76</span><br><span class="line">github.com/edsrzf/mmap-go v0.0.0-20170320065105-0bce6a688712</span><br><span class="line">github.com/elazarl/go-bindata-assetfs v1.0.0</span><br><span class="line">github.com/go-redis/redis v6.14.2+incompatible</span><br><span class="line">github.com/go-sql-driver/mysql v1.4.1</span><br><span class="line">github.com/gogo/protobuf v1.1.1</span><br><span class="line">github.com/golang/snappy v0.0.0-20180518054509-2e65f85255db</span><br><span class="line">github.com/gomodule/redigo v2.0.0+incompatible</span><br><span class="line">github.com/lib/pq v1.0.0</span><br><span class="line">github.com/mattn/go-sqlite3 v1.10.0</span><br><span class="line">github.com/pelletier/go-toml v1.2.0</span><br><span class="line">github.com/pkg/errors v0.8.0</span><br><span class="line">github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644</span><br><span class="line">github.com/siddontang/go v0.0.0-20180604090527-bdc77568d726</span><br><span class="line">github.com/siddontang/ledisdb v0.0.0-20181029004158-becf5f38d373</span><br><span class="line">github.com/siddontang/rdb v0.0.0-20150307021120-fc89ed2e418d</span><br><span class="line">github.com/ssdb/gossdb v0.0.0-20180723034631-88f6b59b84ec</span><br><span class="line">github.com/syndtr/goleveldb v0.0.0-20181127023241-353a9fca669c</span><br><span class="line">github.com/wendal/errors v0.0.0-20130201093226-f66c77a7882b</span><br><span class="line">golang.org/x/crypto v0.0.0-20181127143415-eb0de9b17e85</span><br><span class="line">golang.org/x/net v0.0.0-20181114220301-adae6a3d119a</span><br><span class="line">gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405</span><br><span class="line">gopkg.in/yaml.v2 v2.2.1</span><br></pre></td></tr></table></figure>
<p>如果我想要升级（降级）某个 package 则只需要 go get 即可，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get package@version</span><br></pre></td></tr></table></figure>
<p>需要注意的是，<strong>在 modules 模式开启和关闭的情况下，<code>go get</code> 的使用方式不是完全相同的。</strong>在 modules 模式开启的情况下，可以通过在 package 后面添加 <em>@version</em> 来表明要升级（降级）到某个版本。如果没有指明 version 的情况下，则默认先下载打了 tag 的 release 版本，比如 v0.4.5 或者 v1.2.3；如果没有 release 版本，则下载最新的 pre release 版本，比如 v0.0.1-pre1。如果还没有则下载最新的 commit。这个地方给我们的一个启示是如果我们不按规范的方式来命名我们的 package 的 tag，则 modules 是无法管理的。version 的格式为 <code>v(major).(minor).(patch)</code> ，更多信息可以参考：<a href="https://semver.org/" target="_blank" rel="noopener">https://semver.org/</a> 。</p>
<p>比如我们现在想将我们依赖中的 beego 项目的版本改为 v1.11.1，则可以像如下操作。我们发现执行完 <code>go get</code> 之后， go.mod 中的项目的版本也相应改变了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;go get github.com/astaxie/beego@v1.11.1</span><br><span class="line">go: finding github.com/astaxie/beego v1.11.1</span><br><span class="line">go: finding github.com/belogik/goes v0.0.0-20151229125003-e54d722c3aff</span><br><span class="line">go: downloading github.com/astaxie/beego v1.11.1</span><br><span class="line">go: extracting github.com/astaxie/beego v1.11.1</span><br><span class="line"></span><br><span class="line">F:\GoWorker\mod-demo&gt;cat go.mod</span><br><span class="line">module mod-demo</span><br><span class="line"></span><br><span class="line">go 1.12</span><br><span class="line"></span><br><span class="line">require (</span><br><span class="line">        github.com/OwnLocal/goes v1.0.0 // indirect</span><br><span class="line">        github.com/astaxie/beego v1.11.1</span><br><span class="line">        github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644 // indirect</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>在 modules 开启的模式下，go get 还支持 version 模糊查询，比如 &gt; v1.0.0 表示大于 v1.0.0 的可使用版本；&lt; v1.12.0 表示小于 v1.12.0  版本下最近可用的版本。version 的比较规则按照 version 的各个字段来展开。</p>
<p>除了指定版本，我们还可以使用如下命名使用最近的可行的版本：</p>
<ul>
<li>go get -u 使用最新的 minor 或者 patch 版本</li>
<li>go get -u=patch 使用最新的 patch 版本</li>
</ul>
<h3 id="1-4-vendor"><a href="#1-4-vendor" class="headerlink" title="1.4 vendor"></a><strong>1.4 vendor</strong></h3><p>我们知道 Go 1.5 推出了 vendor 机制，go mod 也可以支持 vendor 机制，将依赖包拷贝到 vendor 目录。但是像一些 test case 里面的依赖包并不会拷贝的 vendor 目录中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;go help mod vendor</span><br><span class="line">usage: go mod vendor [-v]</span><br><span class="line"></span><br><span class="line">Vendor resets the main module&apos;s vendor directory to include all packages</span><br><span class="line">needed to build and test all the main module&apos;s packages.</span><br><span class="line">It does not include test code for vendored packages.</span><br><span class="line"></span><br><span class="line">The -v flag causes vendor to print the names of vendored</span><br><span class="line">modules and packages to standard error.</span><br></pre></td></tr></table></figure>
<h2 id="modules-特性"><a href="#modules-特性" class="headerlink" title="modules 特性"></a>modules 特性</h2><p>上面介绍了 go modules 的简单使用方法，但是 modules 的一些更高级的特性没有介绍，将在下面进行展开。</p>
<h3 id="2-1-GoProxy"><a href="#2-1-GoProxy" class="headerlink" title="2.1 GoProxy"></a>2.1 GoProxy</h3><p>proxy 顾名思义，代理服务器。众所周知，有些 Golang 的 package 在国内是无法直接 go get 的。在之前，我们解决这个问题，一般都是通过设置 http_proxy/https_proxy 来解决。GoProxy 相当于官方提供了一种 proxy 的方式让用户来进行包下载。要使用 GoProxy 只需要设置环境变量 <code>GOPROXY</code> 即可。目前公开的 GOPROXY 有：</p>
<ul>
<li>goproxy.io</li>
<li>goproxy.cn</li>
</ul>
<p>当然你也可以实现自己的 GoProxy 服务，比如项目中的依赖包含外部依赖和内部依赖的时候，那么只需要实现 module proxy protocal 协议即可。</p>
<p>值得注意的是，<strong>在最新 release 的 Go 1.13 版本中默认将 GOPROXY 设置为 <a href="https://proxy.golang.org，这个对于国内的开发者是无法直接使用的。所以如果升级了" target="_blank" rel="noopener">https://proxy.golang.org，这个对于国内的开发者是无法直接使用的。所以如果升级了</a> Go 1.13 版本一定要把 GOPROXY 手动改掉。</strong></p>
<h3 id="2-2-Replace"><a href="#2-2-Replace" class="headerlink" title="2.2 Replace"></a>2.2 Replace</h3><p>replace 主要为了解决某些包发生改名的问题。</p>
<p>对于另外一种场景有的时候也是有用的，比如对于有些 golang.org/x/ 下面的包由于某些原因在国内是下载不了的，但是对应的包在 github 上面是有一份拷贝的，这个时候我们就可以将 go.mod 中的包进行 replace 操作。</p>
<p>下面是一个 Beego 项目的 go.mod 的 replace 的示例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">replace golang.org/x/crypto v0.0.0-20181127143415-eb0de9b17e85 =&gt; github.com/golang/crypto v0.0.0-20181127143415-eb0de9b17e85</span><br><span class="line"></span><br><span class="line">replace gopkg.in/yaml.v2 v2.2.1 =&gt; github.com/go-yaml/yaml v0.0.0-20180328195020-5420a8b6744d</span><br></pre></td></tr></table></figure>
<h3 id="2-3-SubCommand"><a href="#2-3-SubCommand" class="headerlink" title="2.3 SubCommand"></a>2.3 SubCommand</h3><p>modules 支持的 subcommand 如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;go help mod</span><br><span class="line">Go mod provides access to operations on modules.</span><br><span class="line"></span><br><span class="line">Note that support for modules is built into all the go commands,</span><br><span class="line">not just &apos;go mod&apos;. For example, day-to-day adding, removing, upgrading,</span><br><span class="line">and downgrading of dependencies should be done using &apos;go get&apos;.</span><br><span class="line">See &apos;go help modules&apos; for an overview of module functionality.</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line"></span><br><span class="line">        go mod &lt;command&gt; [arguments]</span><br><span class="line"></span><br><span class="line">The commands are:</span><br><span class="line"></span><br><span class="line">        download    download modules to local cache</span><br><span class="line">        edit        edit go.mod from tools or scripts</span><br><span class="line">        graph       print module requirement graph</span><br><span class="line">        init        initialize new module in current directory</span><br><span class="line">        tidy        add missing and remove unused modules</span><br><span class="line">        vendor      make vendored copy of dependencies</span><br><span class="line">        verify      verify dependencies have expected content</span><br><span class="line">        why         explain why packages or modules are needed</span><br><span class="line"></span><br><span class="line">Use &quot;go help mod &lt;command&gt;&quot; for more information about a command.</span><br></pre></td></tr></table></figure>
<p>每个 subcommand 的含义如下：</p>
<ul>
<li>download: 下载 modules 到本地缓存</li>
<li>edit: 提供一种命令行交互修改 go.mod 的方式</li>
<li>graph: 将 module 的依赖图在命令行打印出来，其实并不是很直观</li>
<li>init: 初始化 modules，会生成一个 go.mod 文件</li>
<li>tidy: 清理 go.mod 中的依赖，会添加缺失的依赖，同时移除没有用到的依赖</li>
<li>vendor: 将依赖包打包拷贝到项目的 vendor 目录下，值得注意的是并不会将 test code 中的依赖包打包到 vendor 中。这种设计在社区也引起过几次争论，但是并没有达成一致。</li>
<li>verify: verify 用来检测依赖包自下载之后是否被改动过。</li>
<li>why: 解释为什么 package 或者 module 是需要，但是看上去解释的理由并不是非常的直观。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">F:\GoWorker\mod-demo&gt;go mod why github.com/astaxie/beego</span><br><span class="line">go: downloading github.com/elazarl/go-bindata-assetfs v1.0.0</span><br><span class="line">go: extracting github.com/elazarl/go-bindata-assetfs v1.0.0</span><br><span class="line">go: downloading gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405</span><br><span class="line">go: extracting gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405</span><br><span class="line"># github.com/astaxie/beego</span><br><span class="line">mod-demo</span><br><span class="line">github.com/astaxie/beego</span><br></pre></td></tr></table></figure>
<h2 id="Go-1-13-对-modules-的改动"><a href="#Go-1-13-对-modules-的改动" class="headerlink" title="Go 1.13 对 modules 的改动"></a>Go 1.13 对 modules 的改动</h2><p>上面在讨论 GoProxy 的时候提到了 Go 1.13 默认设置环境变量 GOPROXY 的值，除此之外 Go 1.13 对 modules 还有哪些值得注意的改动呢？</p>
<h3 id="3-1-默认开启"><a href="#3-1-默认开启" class="headerlink" title="3.1 默认开启"></a><strong>3.1 默认开启</strong></h3><p><strong>modules 在 Go 1.13 的版本下是默认开启的。</strong></p>
<h3 id="3-2-GOPRIVATE"><a href="#3-2-GOPRIVATE" class="headerlink" title="3.2 GOPRIVATE"></a>3.2 GOPRIVATE</h3><p>前面也说到对于一些内部的 package，GoProxy 并不能很好的处理，Go 1.13 推出了 GOPRIVATE 机制。只需要设置这个环境变量，然后标识出哪些 package 是 private 的，那么对于这个 package 的处理将不会从 proxy 下载。GOPRIVATE 的值是一个以逗号分隔的列表，支持正则（正则语法遵守 Golang 的 包 path.Match）。下面是一个 GOPRIVATE 的示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOPRIVATE=*.corp.example.com,rsc.io/private</span><br></pre></td></tr></table></figure>
<p>上面的 GOPRIVATE 表示以 *.corp.example.com 或者 rsc.io/private 开头的 package 都是私有的。</p>
<h3 id="3-3-GOSUMDB"><a href="#3-3-GOSUMDB" class="headerlink" title="3.3 GOSUMDB"></a><strong>3.3 GOSUMDB</strong></h3><p>GOSUMDB 的全称为 Go CheckSum Database，用来下载的包的安全性校验问题。包的安全性在使用 GoProxy 之后更容易出现，比如我们引用了一个不安全的 GoProxy 之后下载了一个不安全的包，这个时候就出现了安全性问题。对于这种情况，可以通过 GOSUMDB 来对包的哈希值进行校验。当然如果想要关闭哈希校验，可以将 GOSUMDB 设置为 off；如果要对部分包关闭哈希校验，则可以将包的前缀设置到环境变量 GONOSUMDB 中，设置规则类似 GOPRIVATE。</p>
<p>关于 GOSUMDB 的配置格式为：&lt;db_name&gt;+<publickey>+<url>。</url></publickey></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GOSUMDB=&quot;sum.golang.org&quot;</span><br><span class="line">GOSUMDB=&quot;sum.golang.org+&lt;publickey&gt;&quot;</span><br><span class="line">GOSUMDB=&quot;sum.golang.org+&lt;publickey&gt; https://sum.golang.org&quot;</span><br></pre></td></tr></table></figure>
<p>上面三种配置都是合理的，因为对于 sum.golang.org，Go 自己知道其对应的 publickey 和 url，所以我们只要配置一个名字即可，对于另外一个 sum.golang.google.cn 也是一样。除此之外的，都需要指明 publickey，url 默认是 https://&lt;db_name&gt;。</p>
<p>关于 GOSUMDB 更多的详细信息可以参考：<a href="https://golang.org/cmd/go/#hdr-Module_authentication_failures" target="_blank" rel="noopener">https://golang.org/cmd/go/#hdr-Module_authentication_failures</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Golang 包管理历经多个版本，目前来看并没有一个完全让开发者满意的方案，比如类似 Java 的 maven 的包管理方式。很多开发者也表示 modules 的管理方式也不是很直观。其实 Golang 的 package 使用 git 的管理方式来管理其实是一个很好的管理方式，我们最需要的其实是如何能让普通开发者获取到任何 package 的心智负担降到最低。值得欣慰的是我们确实有看到大家在这个方向上的努力，比如 modules 的 GoProxy。</p>
<p>放眼未来，希望会有一种令大部分普通开发者满意的包管理方式吧。</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><p><a href="https://research.swtch.com/vgo" target="_blank" rel="noopener">https://research.swtch.com/vgo</a></p>
</li>
<li><p><a href="https://github.com/golang/go/wiki/Modules" target="_blank" rel="noopener">https://github.com/golang/go/wiki/Modules</a></p>
</li>
<li><p><a href="https://roberto.selbach.ca/intro-to-go-modules/" target="_blank" rel="noopener">https://roberto.selbach.ca/intro-to-go-modules/</a></p>
</li>
<li><p><a href="https://roberto.selbach.ca/playing-with-go-modules/" target="_blank" rel="noopener">https://roberto.selbach.ca/playing-with-go-modules/</a></p>
</li>
<li><p><a href="https://semver.org/" target="_blank" rel="noopener">https://semver.org/</a></p>
</li>
<li><p><a href="https://golang.org/cmd/go/#hdr-Module_authentication_failures" target="_blank" rel="noopener">https://golang.org/cmd/go/#hdr-Module_authentication_failures</a></p>
</li>
<li><p><a href="https://golang.org/doc/go1.13#modules" target="_blank" rel="noopener">https://golang.org/doc/go1.13#modules</a></p>
</li>
<li><p><a href="https://goproxy.io" target="_blank" rel="noopener">https://goproxy.io</a></p>
</li>
<li><p><a href="https://github.com/goproxy/goproxy.cn" target="_blank" rel="noopener">https://github.com/goproxy/goproxy.cn</a></p>
</li>
<li><p><a href="https://codeengineered.com/blog/2018/golang-godep-to-vgo/" target="_blank" rel="noopener">https://codeengineered.com/blog/2018/golang-godep-to-vgo/</a></p>
</li>
</ol>
<pre><code>原文链接：https://mp.weixin.qq.com/s?__biz=MzIzOTYyMTI1MA==&amp;mid=2247483794&amp;idx=1&amp;sn=7d9a707360ee3341870d82bc7c485df0&amp;chksm=e926047fde518d69205334b3a26d6b551ef806367f090ff0eaeeb6176e11e145f86e276259dc&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1568190544523&amp;sharer_shareid=561d56c95f19ba327db16cd985c7cd7d&amp;key=68be3ae943e49b4f88b2ccd5254bf47c97e416687e015d2074d1fbd2ed1150787587ff60c476cd38c73cc8d7ae3c6db48b62c7183403102fda7d1356d9d0d578fdf3cacf90e200d495f41cd12d246a04&amp;ascene=1&amp;uin=MTU1NTU3NzMxNw%3D%3D&amp;devicetype=Windows+10&amp;version=62060833&amp;lang=zh_CN&amp;pass_ticket=Nhno2bp84EtiYdeQpNz%2BynLBPQSkZWpSpAOU5O0vQgLIEokScCbcdzyJC%2FhAY%2Bv0

（已将原文涉及到的内容一步步实现，并修改了一些细节错误）
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Go/" rel="tag"><i class="fa fa-tag"></i> Go</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/10/goproxy-cn-为中国-Go-语言开发者量身打造的模块代理/" rel="next" title="goproxy.cn - 为中国 Go 语言开发者量身打造的模块代理">
                <i class="fa fa-chevron-left"></i> goproxy.cn - 为中国 Go 语言开发者量身打造的模块代理
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/26/Interpretability-Analysis-of-Heartbeat-Classification-Based-on-Heartbeat-Activitys-Global-Sequence-Features-and-BiLSTM-Attention-Neural-Network/" rel="prev" title="Interpretability Analysis of Heartbeat Classification Based on Heartbeat Activitys Global Sequence Features and BiLSTM-Attention Neural Network">
                Interpretability Analysis of Heartbeat Classification Based on Heartbeat Activitys Global Sequence Features and BiLSTM-Attention Neural Network <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">胥三百亿</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/hxi667" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:yourname@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#包管理的历史"><span class="nav-number">1.</span> <span class="nav-text">包管理的历史</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#modules-简单使用方式"><span class="nav-number">2.</span> <span class="nav-text">modules 简单使用方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-准备工作"><span class="nav-number">2.1.</span> <span class="nav-text">1.1 准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-初始化"><span class="nav-number">2.2.</span> <span class="nav-text">1.2 初始化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-依赖升级（降级）"><span class="nav-number">2.3.</span> <span class="nav-text">1.3 依赖升级（降级）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-vendor"><span class="nav-number">2.4.</span> <span class="nav-text">1.4 vendor</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#modules-特性"><span class="nav-number">3.</span> <span class="nav-text">modules 特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-GoProxy"><span class="nav-number">3.1.</span> <span class="nav-text">2.1 GoProxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Replace"><span class="nav-number">3.2.</span> <span class="nav-text">2.2 Replace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-SubCommand"><span class="nav-number">3.3.</span> <span class="nav-text">2.3 SubCommand</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Go-1-13-对-modules-的改动"><span class="nav-number">4.</span> <span class="nav-text">Go 1.13 对 modules 的改动</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-默认开启"><span class="nav-number">4.1.</span> <span class="nav-text">3.1 默认开启</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-GOPRIVATE"><span class="nav-number">4.2.</span> <span class="nav-text">3.2 GOPRIVATE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-GOSUMDB"><span class="nav-number">4.3.</span> <span class="nav-text">3.3 GOSUMDB</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">5.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">6.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2019/5/29 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">胥三百亿</span>

  
</div>
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  总访客:&nbsp&nbsp<span id="busuanzi_value_site_uv"></span>
</span> &nbsp人 &nbsp | |
&nbsp&nbsp
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
&nbsp总访问量:&nbsp&nbsp<span id="busuanzi_value_site_pv"></span>
</span>&nbsp次

<!--
</div>



  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v</div>

-->


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
</div>








        
      </div>
    </div></footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v="></script>

  <script type="text/javascript" src="/js/src/motion.js?v="></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v="></script>
<script type="text/javascript" src="/js/src/post-details.js?v="></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v="></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
